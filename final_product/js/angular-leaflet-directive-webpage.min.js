/*! angular-leaflet-directive-webpage 03-11-2015 */
!function(a){var b=a.module("mainPage",["ngRoute","leaflet-directive","hljs"]);b.value("$anchorScroll",a.noop),b.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"partials/main.html"}).when("/getting-started",{templateUrl:"partials/main.html"}).when("/howto-extend",{templateUrl:"partials/extend.html"}).when("/examples/:example",{templateUrl:"partials/examples.html",reloadOnSearch:!1}),b.hashPrefix("!")}]),b.controller("BoundsController",["$scope","leafletBoundsHelpers",function(b,c){var d=c.createBoundsFromArray([[51.508742458803326,-.087890625],[51.508742458803326,-.087890625]]);a.extend(b,{bounds:d,center:{},defaults:{scrollWheelZoom:!1}})}]),b.controller("CenterController",["$scope",function(b){a.extend(b,{center:{lat:40.095,lng:-3.823,zoom:4},defaults:{scrollWheelZoom:!1}})}]),b.controller("CenterUrlHashController",["$scope","$location",function(b,c){a.extend(b,{center:{lat:40.095,lng:-3.823,zoom:4},defaults:{scrollWheelZoom:!1}}),b.$on("centerUrlHash",function(a,b){c.search({c:b})})}]),b.controller("CustomParametersController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:8},defaults:{tileLayer:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",tileLayerOptions:{opacity:.9,detectRetina:!0,reuseTiles:!0},scrollWheelZoom:!1}})}]),b.controller("CustomizedMarkersController",["$scope",function(b){var c={default_icon:{},leaf_icon:{iconUrl:"examples/img/leaf-green.png",shadowUrl:"examples/img/leaf-shadow.png",iconSize:[38,95],shadowSize:[50,64],iconAnchor:[22,94],shadowAnchor:[4,62],popupAnchor:[-3,-76]},div_icon:{type:"div",iconSize:[230,0],html:"Using <strong>Bold text as an icon</strong>: Lisbon",popupAnchor:[0,0]},orange_leaf_icon:{iconUrl:"examples/img/leaf-orange.png",shadowUrl:"examples/img/leaf-shadow.png",iconSize:[38,95],shadowSize:[50,64],iconAnchor:[22,94],shadowAnchor:[4,62]}};a.extend(b,{icons:c}),a.extend(b,{lisbon:{lat:38.716,lng:-9.13,zoom:8},markers:{m1:{lat:38.716,lng:-9.13,message:"I'm a static marker",icon:c.default_icon}},defaults:{scrollWheelZoom:!1}})}]),b.controller("DraggingMarkersController",["$scope",function(b){a.extend(b,{center:{lat:40.095,lng:-3.823,zoom:6},defaults:{scrollWheelZoom:!1},markers:{Madrid:{lat:40.095,lng:-3.823,message:"This is Madrid. But you can drag me to another position",focus:!0,draggable:!0},Barcelona:{lat:41.38,lng:2.18,message:"This is Barcelona. You can't drag me",focus:!1,draggable:!1}}})}]),b.controller("EventsController",["$scope",function(b){a.extend(b,{center:{lat:52.374004,lng:4.890359,zoom:7},defaults:{scrollWheelZoom:!1},events:{map:{enable:["zoomstart","drag","click","mousemove"],logic:"emit"}}}),b.eventDetected="No events yet...",b.$on("leafletDirectiveMap.zoomstart",function(a){b.eventDetected="ZoomStart"}),b.$on("leafletDirectiveMap.drag",function(a){b.eventDetected="Drag"}),b.$on("leafletDirectiveMap.click",function(a){b.eventDetected="Click"}),b.$on("leafletDirectiveMap.mousemove",function(a){b.eventDetected="MouseMove"})}]),b.controller("GeoJSONController",["$scope","$http",function(b,c){a.extend(b,{japan:{lat:37.26,lng:138.86,zoom:4},defaults:{scrollWheelZoom:!1}}),c.get("examples/json/JPN.geo.json").success(function(c,d){a.extend(b,{geojson:{data:c,style:{fillColor:"green",weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}})})}]),b.controller("GoogleMapsController",["$scope",function(b){a.extend(b,{berlin:{lat:52.52,lng:13.4,zoom:14},layers:{baselayers:{googleTerrain:{name:"Google Terrain",layerType:"TERRAIN",type:"google"},googleHybrid:{name:"Google Hybrid",layerType:"HYBRID",type:"google"},googleRoadmap:{name:"Google Streets",layerType:"ROADMAP",type:"google"}}},defaults:{scrollWheelZoom:!1}})}]),b.controller("HeaderController",["$scope","$location",function(b,c){a.extend(b,{center:{lat:40.095,lng:-3.823,zoom:3},defaults:{scrollWheelZoom:!1,attributionControl:!1,tileLayer:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",tileLayerOptions:{opacity:.9,detectRetina:!0,reuseTiles:!0}}}),b.$on("leafletDirectiveMap.click",function(a){c.path("/")})}]),b.controller("ImageOverlayController",["$scope","$log","leafletData","leafletBoundsHelpers",function(b,c,d,e){var f=e.createBoundsFromArray([[-540,-960],[540,960]]);a.extend(b,{defaults:{scrollWheelZoom:!1,crs:"Simple",maxZoom:2},center:{lat:0,lng:0,zoom:0},maxBounds:f,layers:{baselayers:{andes:{name:"Andes",type:"imageOverlay",url:"examples/img/andes.jpg",bounds:[[-540,-960],[540,960]],layerParams:{noWrap:!0,attribution:'Creative Commons image found <a href="http://www.flickr.com/photos/c32/8025422440/">here</a>'}}}}})}]),b.controller("LayersSimpleController",["$scope",function(b){a.extend(b,{taipei:{lat:25.0391667,lng:121.525,zoom:6},layers:{baselayers:{osm:{name:"OpenStreetMap",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"},mapbox_light:{url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",options:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia22g09"}}}},defaults:{scrollWheelZoom:!1}})}]),b.controller("LegendController",["$scope",function(b){a.extend(b,{amsterdam:{lat:52.35,lng:4.91,zoom:12},legend:{position:"bottomleft",colors:["#ff0000","#28c9ff","#0000ff","#ecf386"],labels:["National Cycle Route","Regional Cycle Route","Local Cycle Network","Cycleway"]},defaults:{tileLayer:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",scrollWheelZoom:!1}})}]),b.controller("MainController",["$scope","$route","$routeParams","$location",function(a,b,c,d){a.$watch(function(){return d.path()},function(b){if(b){var c=b.match(/^\/([^\/])*/);c.length>0&&(a.activeTab=c[0].replace(/^\//,""))}}),a.$watch(function(){return c.example},function(b){a.exampleTab=c.example})}]),b.controller("MarkerController",["$scope",function(b){a.extend(b,{osloCenter:{lat:59.91,lng:10.75,zoom:12},markers:{osloMarker:{lat:59.91,lng:10.75,message:"I want to travel here!",focus:!0,draggable:!1}},defaults:{scrollWheelZoom:!1}})}]),b.controller("MaxboundsController",["$scope",function(b){var c={london:{northEast:{lat:51.51280224425956,lng:-.11681556701660155},southWest:{lat:51.50211782162702,lng:-.14428138732910156}},lisbon:{southWest:{lat:38.700247900602726,lng:-9.165430068969727},northEast:{lat:38.72703673982525,lng:-9.110498428344725}},warszawa:{southWest:{lat:52.14823737817847,lng:20.793685913085934},northEast:{lat:52.31645452105213,lng:21.233139038085938}}};b.setRegion=function(a){a?b.maxbounds=c[a]:b.maxbounds={}},a.extend(b,{maxbounds:c.london,defaults:{scrollWheelZoom:!1}})}]),b.controller("MenuController",["$scope","$location",function(a,b){a.menuItems=[{key:"simple-map",description:"Simple Map"},{key:"center",description:"Center"},{key:"center-url-hash",description:"Center Url Hash"},{key:"custom-parameters",description:"Custom Parameters"},{key:"bounds",description:"Bounds"},{key:"maxbounds",description:"Max Bounds"},{key:"tiles",description:"Tiles"},{key:"tiles-zoom-changer",description:"Tiles Zoom Changer"},{key:"layers-simple",description:"Layers Simple"},{key:"overlays-simple",description:"Overlays Simple"},{key:"imageoverlay",description:"Image Overlay"},{key:"google-maps",description:"Google Maps"},{key:"marker",description:"Marker"},{key:"dragging-markers",description:"Dragging Markers"},{key:"path",description:"Path"},{key:"geojson",description:"GeoJSON"},{key:"legend",description:"Legend"},{key:"customized-markers",description:"Customized markers"},{key:"events",description:"Events"}]}]),b.controller("MultiLayerMapController",["$scope","$http",function(b,c){var d={osm:{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},cycle:{url:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png"},mapbox_light:{url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",options:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia22g09"}},mapbox_wheatpaste:{url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",options:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia35jfp"}}};b.setBaseLayer=function(a){var c=d[a],e=c.url;if(c.hasOwnProperty("options"))for(var f in c.options)c.options.hasOwnProperty(f)&&(e=e.replace("{"+f+"}",c.options[f]));b.tiles.url=e};var e;e=a.copy(d.osm,e),a.extend(b,{center:{lat:40.8471,lng:14.0625,zoom:3},defaults:{scrollWheelZoom:!1},tiles:e})}]),b.controller("OverlaysSimpleController",["$scope",function(b){a.extend(b,{eeuu:{lat:39,lng:-100,zoom:4},layers:{baselayers:{xyz:{name:"OpenStreetMap (XYZ)",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}},overlays:{wms:{name:"EEUU States (WMS)",type:"wms",visible:!0,url:"http://suite.opengeo.org/geoserver/usa/wms",layerParams:{layers:"usa:states",format:"image/png",transparent:!0}}}},defaults:{scrollWheelZoom:!1}})}]),b.controller("PathController",["$scope",function(b){a.extend(b,{center:{lat:48,lng:4,zoom:4},paths:{p1:{color:"#008000",weight:8,latlngs:[{lat:51.5,lng:-.082},{lat:48.83,lng:2.37},{lat:41.91,lng:12.48}]}},markers:{london:{lat:51.5,lng:-.082,icon:{iconUrl:"examples/img/100x100_PNG/bigben100.png",iconSize:[80,80],iconAnchor:[40,80],popupAnchor:[0,0],shadowSize:[0,0],shadowAnchor:[0,0]}},paris:{lat:48.83,lng:2.37,icon:{iconUrl:"examples/img/100x100_PNG/eiffel100.png",iconSize:[80,80],iconAnchor:[40,60],popupAnchor:[0,0],shadowSize:[0,0],shadowAnchor:[0,0]}},roma:{lat:41.91,lng:12.48,icon:{iconUrl:"examples/img/100x100_PNG/colosseum100.png",iconSize:[60,60],iconAnchor:[30,40],popupAnchor:[0,0],shadowSize:[0,0],shadowAnchor:[0,0]}}},defaults:{scrollWheelZoom:!1}})}]),b.controller("SimpleMapController",["$scope",function(b){a.extend(b,{defaults:{scrollWheelZoom:!1}})}]),b.controller("TilesController",["$scope",function(b){var c={openstreetmap:{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}},opencyclemap:{url:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",options:{attribution:'All maps &copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, map data &copy; <a href="http://www.openstreetmap.org">OpenStreetMap</a> (<a href="http://www.openstreetmap.org/copyright">ODbL</a>'}}};a.extend(b,{sidney:{lat:-33.883,lng:151.2166,zoom:10},tiles:c.opencyclemap,defaults:{scrollWheelZoom:!1}}),b.changeTiles=function(a){b.tiles=c[a]}}]),b.controller("TilesZoomChangerController",["$scope",function(b){a.extend(b,{cairo:{lat:30.05,lng:31.25,zoom:10},tiles:{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},defaults:{scrollWheelZoom:!1}}),b.$watch("cairo.zoom",function(a){b.tiles.url=a>12?"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png":"http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}]),b.controller("WorldMapController",["$scope","$http","$log",function(b,c,d){function e(a,b){d.info(a.properties.name)}function f(a){if(!a||!a["region-code"])return"#FFF";var b=i[a["region-code"]].colors,c=a["alpha-3"].charCodeAt(0)%b.length;return b[c]}function g(a){return{fillColor:f(b.countries[a.id]),weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}function h(a,c){var d=c.target;d.setStyle({weight:2,color:"#666",fillColor:"white"}),d.bringToFront(),b.selectedCountry=a}b.$on("leafletDirectiveMap.geojsonMouseover",function(a,b,c){h(b,c)}),b.$on("leafletDirectiveMap.geojsonClick",function(a,b,c){e(b,c)});var i={"009":{name:"Oceania",colors:["#CC0066","#993366","#990066","#CC3399","#CC6699"]},"019":{name:"America",colors:["#006699","#336666","#003366","#3399CC","#6699CC"]},150:{name:"Europe",colors:["#FF0000","#CC3333","#990000","#FF3333","#FF6666"]},"002":{name:"Africa",colors:["#00CC00","#339933","#009900","#33FF33","#66FF66"]},142:{name:"Asia",colors:["#FFCC00","#CC9933","#999900","#FFCC33","#FFCC66"]}};a.extend(b,{center:{lat:40.8471,lng:14.0625,zoom:2},defaults:{scrollWheelZoom:!1},legend:{colors:["#CC0066","#006699","#FF0000","#00CC00","#FFCC00"],labels:["Oceania","America","Europe","Africa","Asia"]},selectedCountry:{}}),c.get("examples/json/all.json").success(function(d,e){b.countries={};for(var f=0;f<d.length;f++){var h=d[f];b.countries[h["alpha-3"]]=h}c.get("examples/json/countries.geo.json").success(function(c,d){a.extend(b,{geojson:{data:c,style:g,resetStyleOnMouseout:!0}})})})}])}(window.angular);